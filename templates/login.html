<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Clínica Santa Luzia</title>
    <script src="../static/script.js" defer ></script>
    <script src="../static/js/app.js" defer ></script>
    <link rel="stylesheet" href="../static/css/style.css?v=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

</head>
<body>

    
    <div class="container">

        {% if expirado %}
        <div class="aviso-expirado">
             Sua sessão expirou. Faça login novamente. 
        </div>
        {% endif %}

        <div class="content first-content">
            <div class="first-column">
                <h2 class="title title-primary">Bem-Vindo!</h2>

                <p class="description description-primary">Por favor, faça login com suas informações pessoais</p>
                <button id="signin" class="btn btn-primary" type="button">entrar</button>
            </div>    
            <div class="second-column">
                <h2 class="title title-second">Criar conta</h2>
                <div class="social-media">
                    <ul class="list-social-media">
                        <a class="link-social-media" href="https://www.facebook.com/login">
                            <li class="item-social-media">
                                <i class="fab fa-facebook-f"></i>        
                            </li>
                        </a>
                        <a class="link-social-media" href="https://accounts.google.com/ServiceLogin">
                            <li class="item-social-media">
                                <i class="fab fa-google-plus-g"></i>
                            </li>
                        </a>
                        <a class="link-social-media" href="https://www.linkedin.com/login">
                            <li class="item-social-media">
                                <i class="fab fa-linkedin-in"></i>
                            </li>
                        </a>
                    </ul>
                </div>
                <p class="description description-second">Ou use seu e-mail para registro:</p>

                {% set errorStatus = request.session.pop("errorStatus", None) %}
                {% set error = request.session.pop("error", None) %}

                {% if errorStatus %}
                <p style="color: red;">{{ error }}</p>
                {% endif %}

                <form class="form" id="cadastroForm" action="/cadastro" method="post">
                    <div class="alinhamento-form">
                        <div>
                            <label class="label-input" for="nome-cadastro">
                                <i class="fas fa-user icon-modify"></i>
                                <input name="nome" id="nome-cadastro" type="text" placeholder="Nome" required>
                            </label>
                            <div id="nomeError" class="error-message"></div>
                            
                            <label class="label-input" for="sobrenome-cadastro">
                                <i class="fas fa-user icon-modify"></i>
                                <input name="sobrenome" id="sobrenome-cadastro" type="text" placeholder="Sobrenome" required>
                            </label>
                            <div id="sobrenomeError" class="error-message"></div>
                            <div id="nomeError" class="error-message"></div>
    
                            <label class="label-input"  for="nascimento-cadastro">
                                <i class="fas fa-calendar icon-modify"></i>
                                <input name="dataNascimento" type="date" id="nascimento-cadastro" placeholder="Data de Nascimento" required>
                            </label>
                            <div id="dataNascimentoError" class="error-message"></div>
                            
                            <label class="label-input" for="email-cadastro">
                                <i class="fas fa-envelope icon-modify"></i>
                                <input name="email" id="email-cadastro" type="email" placeholder="E-mail" required>
                            </label>
                            <div id="emailError" class="error-message"></div>
                        </div>
                        
                        <div>
                            <label class="label-input" for="cpf-cadastro">
                                <i class="fas fa-id-card icon-modify"></i>
                                <input name="cpf" id="cpf-cadastro" type="text" oninput="formatarCPF(this)" placeholder="CPF" required>
                            </label>
                            <div id="cpfError" class="error-message"></div>
    
                            <label class="label-input" for="telefone-cadastro">
                                <i class="fas fa-phone icon-modify"></i>
                                <input name="telefone" id="telefone-cadastro" type="tel" oninput="formatarTelefone(this)" placeholder="Telefone" required>
                            </label>
                            <div id="telefoneError" class="error-message"></div>
                            
                            <label class="label-input" for="senha-cadastro">
                                <i class="fas fa-lock icon-modify"></i>
                                <input name="senha" id="senha-cadastro" type="password" placeholder="Senha" required>
                            </label>
                            <div id="senhaError" class="error-message"></div>
                            
                            <label class="label-input" for="confirmar-senha-cadastro">
                                <i class="fas fa-lock icon-modify"></i>
                                <input id="confirmar-senha-cadastro" type="password" placeholder="Confirmar Senha" required>
                            </label>
                            <div id="confirmarSenhaError" class="error-message"></div>
                        </div>
                    </div>
                    <button class="btn btn-second" id="btn-enviar" type="button">Cadastrar</button>        
                </form>
            </div>
        </div>
        
        <div class="content second-content">

            

        <div class="first-column">
            <p class="description description-quartary">Nossa missão é cuidar da sua saúde com carinho e dedicação.</p>
            <button id="signup" class="btn btn-tertiary">Criar conta</button>
        </div>
        
        <div class="second-column">
            <h2 class="title title-second">Faça login para continuar</h2>
            <div class="social-media">
                <ul class="list-social-media">
                    <a class="link-social-media" href="https://www.facebook.com/login">
                        <li class="item-social-media">
                            <i class="fab fa-facebook-f"></i>
                        </li>
                    </a>
                    <a class="link-social-media" href="https://accounts.google.com/ServiceLogin">
                        <li class="item-social-media">
                            <i class="fab fa-google-plus-g"></i>
                        </li>
                    </a>
                    <a class="link-social-media" href="https://www.linkedin.com/login">
                        <li class="item-social-media">
                            <i class="fab fa-linkedin-in"></i>
                        </li>
                    </a>
                </ul>
            </div>
            <p class="description description-second">ou use sua conta de e-mail:</p>

            {% set errorLoginStatus = request.session.pop("errorLoginStatus", None) %}
            {% set errorLoginMessage = request.session.pop("errorLogin", None) %}

            {% if errorLoginStatus %}
                <script>
                    document.addEventListener("DOMContentLoaded", function () {
                        document.getElementById("signin").click(); 
                    });
                </script>
                <p style="color: red;">{{ errorLoginMessage }}</p>
            {% endif %}


            <form class="form" action="/login" method="post">

                <label class="label-input" for="">
                    <i class="far fa-envelope icon-modify"></i>
                    <input name="Login" type="email" placeholder="Email" required name="emailcadastro">
                </label>
                <label class="label-input" for="">
                    <i class="fas fa-lock icon-modify"></i>
                    <input name="SenhaLogin" type="password" placeholder="Password" required>
                </label>
                <button class="btn btn-second" type="submit">Entrar</button>
            </form>
            <a class="password" id="openModal" href="#">Esqueceu sua senha?</a>
        </div>
    </div>
</div>


</body>
</html>
